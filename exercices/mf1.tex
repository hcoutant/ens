# Makefile for the demo program
#
# History
#   94/04/11 : pda : redesign

# HP 9000/700, HP-UX 9.05
CC         = cc -Ae
CCOPT      = 
LDOPT      = 
RANLIB     = :
TCLCFLAGS  = -I/usr/local/tcl/include
TCLLFLAGS  = -L/usr/local/tcl/lib
LATEX      = latex
DVIPS      = dvips

# Sun 4, SunOS 4.1
#CC         = gcc
#CCOPT      = -g
#LDOPT      = -g
#RANLIB     = ranlib
#TCLCFLAGS  = -I/usr/local/tcl/include
#TCLLFLAGS  = -L/usr/local/tcl/lib
#LATEX      = latex
#DVIPS      = dvips

# Subdirectories we want to make
SUBDIRS = lib src doc

all:
        $(MAKE) subdirs TARGET=all

clean:
        $(MAKE) subdirs TARGET=clean

subdirs:
        @for i in $(SUBDIRS) ; \
        do \
            ( \
                cd $$i ; echo "Make $(TARGET) in $$i" ;\
                $(MAKE) $(TARGET) \
                        "CC=$(CC)" "CCOPT=$(CCOPT)" "LDOPT=$(LDOPT)" \
                        "RANLIB=$(RANLIB)" \
                        "TCLCFLAGS=$(TCLCFLAGS)" "TCLLFLAGS=$(TCLLFLAGS)" \
                        "LATEX=$(LATEX)" "DVIPS=$(DVIPS)" \
                        ; \
            ) \
        done
